# 教育机构B端管理后台功能设计

教育机构的B端管理后台是连接机构内部运营的核心系统，一个设计良好的后台可以显著提升管理效率、优化教学质量并提供数据支持。以下是功能模块设计：

## 1. 用户权限管理
- **角色管理**：设置不同角色（超级管理员、校区管理员、教务主管、教师、财务等）
- **权限分配**：细粒度的功能权限控制
- **登录安全**：双因素认证、登录日志、异常登录提醒

## 2. 学生管理
- **学生档案**：基本信息、联系方式、家长信息、学习记录
- **招生管理**：潜在学生跟踪、转化率分析
- **学生分组**：按年级、兴趣、学习水平等分类
- **学习进度追踪**：课程完成情况、能力评估
- **请假/转班/退班**：流程管理与审批

## 3. 教师管理
- **教师档案**：个人信息、专业背景、教学评价
- **工作量统计**：课时统计、班级数量
- **绩效评估**：学生评价、教学成果、出勤率
- **薪资管理**：基本工资、课时费、绩效奖金计算

## 4. 课程管理
- **课程库**：课程设置、教材管理、课程大纲
- **课程定价**：不同类型课程的价格策略
- **教学资源**：教案、课件、习题、视频资源管理
- **课程评价**：学生反馈、教学质量评估

## 5. 班级管理
- **班级创建与编辑**：设置班级属性、人数上限
- **学生分班**：智能分班推荐、手动调整
- **班级动态**：出勤情况、学习氛围、整体表现
- **班级公告**：针对特定班级的通知发布

## 6. 排课系统
- **课表管理**：可视化课表编排、冲突检测
- **教室分配**：资源优化分配、容量管理
- **临时调课**：应急调课、补课安排
- **假期排课**：寒暑假特殊课程安排

## 7. 考勤管理
- **教师考勤**：上下课打卡、请假管理
- **学生考勤**：课堂点名、缺勤记录
- **考勤统计**：出勤率分析、异常提醒
- **自动提醒**：连续缺勤预警、家长通知

## 8. 成绩管理
- **考试管理**：考试安排、试卷管理
- **成绩录入**：批量导入、手动录入
- **成绩分析**：个人成长曲线、班级对比
- **成绩单生成**：自定义模板、批量导出

## 9. 财务管理
- **收费管理**：学费收取、欠费提醒
- **退费处理**：退课退费计算、审批流程
- **教师薪资**：自动计算、发放记录
- **财务报表**：收支明细、利润分析
- **发票管理**：开票记录、发票查询

## 10. 数据分析与报表
- **运营数据看板**：核心指标可视化展示
- **学生分析**：招生来源、续班率、流失率
- **教学分析**：课程热度、教学质量评估
- **财务分析**：收入构成、成本分析
- **自定义报表**：灵活配置所需数据报表

## 11. 通知与消息系统
- **站内消息**：系统通知、个人消息
- **短信通知**：重要信息短信提醒
- **邮件系统**：批量邮件、模板管理
- **家校沟通**：与家长的即时通讯
- **公告管理**：全校公告、分组公告

## 12. 营销工具
- **活动管理**：招生活动、优惠活动设置
- **优惠券管理**：发放记录、使用统计
- **推荐奖励**：老带新奖励机制
- **社交媒体集成**：内容发布、效果追踪

## 13. 校区管理（多校区）
- **校区信息**：基本信息、教室资源
- **跨校区管理**：资源共享、数据汇总
- **校区对比**：业绩对比、运营效率分析

## 14. 系统设置
- **基础设置**：学期设置、作息时间
- **模板管理**：各类单据模板定制
- **数据备份**：自动备份、恢复机制
- **操作日志**：系统操作记录、安全审计

## 15. 移动端支持
- **移动管理端**：管理人员移动办公
- **教师移动端**：随时查看课表、记录考勤
- **响应式设计**：适配不同设备屏幕

# 服务架构设计

基于Java+Spring Boot+MyBatis技术栈，针对教育机构B端管理后台的功能需求，我们采用以下服务划分方案。这个方案结合了微服务和单体架构的优点，适合中小型教育机构逐步发展的需求。

## 架构总览

采用"核心单体+周边微服务"的混合架构模式：
- 核心业务紧密相关的模块组成主单体应用
- 相对独立且可能有不同扩展需求的功能拆分为微服务
- 通过API网关统一入口
- 共享基础设施服务

## 服务划分方案

### 1. 核心业务单体应用 (Core-Service)

将紧密关联的核心业务模块组合在一个应用中，减少分布式事务复杂性：

#### 1.1 用户与权限模块 (user-auth-module)
- 用户管理
- 角色权限管理
- 认证授权

#### 1.2 教学管理模块 (teaching-module)
- 学生管理
- 教师管理
- 班级管理
- 课程管理

#### 1.3 教务运营模块 (operation-module)
- 排课系统
- 考勤管理
- 成绩管理

#### 1.4 财务管理模块 (finance-module)
- 收费管理
- 退费处理
- 教师薪资
- 财务报表

### 2. 独立微服务

#### 2.1 数据分析服务 (Analytics-Service)
- 运营数据看板
- 学生分析
- 教学分析
- 财务分析
- 自定义报表

#### 2.2 通知消息服务 (Notification-Service)
- 站内消息
- 短信通知
- 邮件系统
- 家校沟通
- 公告管理

#### 2.3 营销服务 (Marketing-Service)
- 活动管理
- 优惠券管理
- 推荐奖励
- 社交媒体集成

#### 2.4 文件存储服务 (File-Service)
- 教学资源管理
- 学生作业存储
- 试卷管理
- 各类文档存储

### 3. 基础设施服务

#### 3.1 API网关 (Gateway-Service)
- 请求路由
- 负载均衡
- 认证授权
- 限流熔断

#### 3.2 服务注册与发现 (Registry-Service)
- 服务注册
- 健康检查
- 配置中心

#### 3.3 日志监控服务 (Monitoring-Service)
- 系统日志
- 性能监控
- 告警通知

## 技术架构设计

### 1. 分层架构

每个服务内部采用经典的分层架构：

```
Controller层 → Service层 → Repository层 → 数据库
    ↓             ↓           ↓
   DTO          Domain      Entity
```

- **Controller层**：处理HTTP请求，参数校验，返回结果
- **Service层**：业务逻辑处理，事务管理
- **Repository层**：数据访问，MyBatis映射
- **Domain层**：领域模型，业务规则
- **DTO层**：数据传输对象，API契约
- **Entity层**：数据库实体映射

### 2. 数据库设计

#### 2.1 数据库策略
- 核心业务单体应用使用共享数据库
- 独立微服务使用独立数据库
- 采用数据库分库设计，为未来拆分做准备

#### 2.2 数据一致性
- 服务内部：事务保证
- 跨服务：最终一致性模式
- 关键业务：分布式事务或补偿事务

### 3. 通信机制

#### 3.1 同步通信
- RESTful API：服务间基本通信
- GraphQL：复杂数据查询（特别是数据分析服务）

#### 3.2 异步通信
- 消息队列：跨服务事件通知
- WebSocket：实时通知和消息推送

## 项目结构示例

```
education-management/
├── core-service/                # 核心业务单体应用
│   ├── src/main/java/com/edu/core/
│   │   ├── user/               # 用户与权限模块
│   │   ├── teaching/           # 教学管理模块
│   │   ├── operation/          # 教务运营模块
│   │   ├── finance/            # 财务管理模块
│   │   └── common/             # 公共组件
│   └── pom.xml
├── analytics-service/           # 数据分析服务
├── notification-service/        # 通知消息服务
├── marketing-service/           # 营销服务
├── file-service/                # 文件存储服务
├── gateway-service/             # API网关
├── registry-service/            # 服务注册与发现
├── monitoring-service/          # 日志监控服务
└── common-lib/                  # 公共库
    ├── common-util/             # 工具类
    ├── common-security/         # 安全组件
    └── common-data/             # 数据访问组件
```

## 开发与部署策略

### 1. 开发策略
- 优先开发核心业务单体应用
- 逐步拆分独立微服务
- 共享代码放入common-lib

### 2. 部署策略
- 开发环境：单机部署
- 测试环境：容器化部署
- 生产环境：Kubernetes编排

### 3. 扩展性考虑
- 服务无状态设计
- 配置外部化
- 接口版本控制
- 数据库分库分表准备

## 实施路线图

### 第一阶段：核心功能实现
1. 搭建基础框架
2. 实现用户与权限模块
3. 实现教学管理核心功能
4. 实现基础财务功能

### 第二阶段：功能完善与服务拆分
1. 完善核心业务功能
2. 拆分文件存储服务
3. 拆分通知消息服务
4. 实现API网关

### 第三阶段：高级功能与优化
1. 实现数据分析服务
2. 实现营销服务
3. 完善监控与运维
4. 性能优化与安全加固